# Internationalization (i18n) Setup

This document explains how the internationalization system is set up in the gym-app frontend and how to add new languages or translations.

## Overview

The application uses `i18next` and `react-i18next` for internationalization support, allowing the interface to be displayed in multiple languages.

## Current Language Support

- **English (en)** - Default language
- **Portuguese (pt)** - Portuguese

## Directory Structure

```
src/
├── i18n/
│   ├── index.ts              # i18n configuration
│   └── locales/
│       ├── en.json           # English translations
│       └── pt.json           # Portuguese translations
└── components/
    └── LanguageSwitcher.tsx  # Language selection component
```

## Configuration

The i18n system is configured in `src/i18n/index.ts` with the following features:

- **Language Detection**: Automatically detects user's preferred language from browser settings
- **Fallback Language**: English (en) is used when a translation is missing
- **Storage**: User's language preference is saved in localStorage
- **Interpolation**: Supports dynamic values in translations (e.g., `{{name}}`)

## Usage in Components

### Basic Translation

```tsx
import { useTranslation } from 'react-i18next'

function MyComponent() {
  const { t } = useTranslation()
  
  return <h1>{t('navigation.dashboard')}</h1>
}
```

### Translation with Variables

```tsx
const { t } = useTranslation()

return <h1>{t('dashboard.welcome', { name: user.name })}</h1>
```

### Language Switching

The `LanguageSwitcher` component allows users to change languages:

```tsx
import { LanguageSwitcher } from '@/components/LanguageSwitcher'

// Use anywhere in your component
<LanguageSwitcher />
```

## Adding New Languages

### 1. Create Translation File

Create a new JSON file in `src/i18n/locales/` with the language code (e.g., `es.json` for Spanish):

```json
{
  "common": {
    "loading": "Cargando...",
    "save": "Guardar",
    "cancel": "Cancelar"
  },
  "navigation": {
    "dashboard": "Panel",
    "gyms": "Gimnasios"
  }
}
```

### 2. Update i18n Configuration

Add the new language to `src/i18n/index.ts`:

```typescript
import es from './locales/es.json'

const resources = {
  en: { translation: en },
  pt: { translation: pt },
  es: { translation: es }, // Add new language
}
```

### 3. Update Language Switcher

Add the new option to `src/components/LanguageSwitcher.tsx`:

```tsx
<select>
  <option value="en">English</option>
  <option value="pt">Português</option>
  <option value="es">Español</option>
</select>
```

## Translation Keys Structure

The translation keys are organized hierarchically:

- `common.*` - Common UI elements (buttons, labels, etc.)
- `navigation.*` - Navigation menu items
- `auth.*` - Authentication pages (login, register)
- `dashboard.*` - Dashboard page content
- `gyms.*` - Gym-related content
- `checkIns.*` - Check-in related content
- `profile.*` - Profile page content
- `admin.*` - Admin panel content

## Best Practices

1. **Consistent Key Naming**: Use camelCase for keys and organize them logically
2. **Avoid Hardcoded Text**: All user-facing text should use translation keys
3. **Provide Context**: Include description comments for complex translations
4. **Use Interpolation**: For dynamic content, use `{{variable}}` syntax
5. **Fallback Values**: Ensure all keys exist in the fallback language (English)

## Testing Translations

1. Change language using the language switcher
2. Verify all text updates without page reload
3. Check that interpolated values work correctly
4. Test with browser language preferences

## Performance Considerations

- Translation files are loaded asynchronously
- Only the selected language is loaded in production
- Language preferences are cached in localStorage
- No page reload is required for language changes

## Browser Support

The i18n system supports:
- Language detection from `navigator.language`
- localStorage for preference persistence
- Dynamic imports for optimal loading